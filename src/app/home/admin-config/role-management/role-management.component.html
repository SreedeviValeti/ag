<div class="role-management-container">
  <div class="row">
    <div class="col">
      <h2 class="page-heading">Configure Roles</h2>
    </div>
  </div>
  <div class="table-container">
    <div class="row mb-2">
      <div class="col-3">
          <div class="form-group">
              <label for="searchTable">Search</label>
              <input id="searchTable" class="form-control" type="text" placeholder="Search By Roles Id's"/>
          </div>
      </div>
      <div class="col-4 offset-5 text-right">
          <strong class="clickable" (click)="showCreatePage = true">Create New Role</strong>
          <i class="fa fa-plus-square-o add-new" aria-hidden="true" ngbTooltip="Create New Role" container="body" (click)="showCreatePage = true"></i>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <table class="table table-hover">
          <thead class="thead-light">
            <tr>
              <th>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                  <label class="form-check-label" for="defaultCheck1"></label>
                </div>
              </th>
              <th>Role Id</th>
              <th>Role Name</th>
              <th>Role Description</th>
              <th>Associated Permissions</th>
              <th>Environment</th>
              <th>Status</th>
              <th>Created By</th>
              <th>Created Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr [class.editable]="isEditing">
              <td>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                  <label class="form-check-label" for="defaultCheck1"></label>
                </div>
              </td>
              <td>
                <div *ngIf="!isEditing">24189</div>
                <div class="form-group" *ngIf="isEditing">
                  <input type="text" class="form-control" placeholder="ID">
                </div>
              </td>
              <td>
                <a href="#" class="link" *ngIf="!isEditing">Admin</a>
                <div class="form-group" *ngIf="isEditing">
                  <input type="text" class="form-control" placeholder="Redirect Link">
                </div>
              </td>
              <td>
                <div *ngIf="!isEditing"> With this permission user can View and Edit the Forms and controls </div>
                <div class="form-group" *ngIf="isEditing">
                  <input type="text" class="form-control" placeholder="Application">
                </div>
              </td>
              <td>
                <div *ngIf="!isEditing">
                  <div class="tags">
                    <ul>
                      <li>View <i class="fa fa-times" aria-hidden="true"></i></li>
                      <li>Edit <i class="fa fa-times" aria-hidden="true"></i></li>
                    </ul>
                  </div>
                </div>
                <div *ngIf="isEditing">
                  <a class="link-edit"  ngbTooltip="Edit" container="body" (click)="showDDL = !showDDL">Edit <i class="ml-2 fa fa-pencil" aria-hidden="true"></i>
                    <div class="dropdownlist" [class.dl-show]="showDDL">
                      <ul>
                        <li>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                              <label class="form-check-label" for="defaultCheck1">Edit</label>
                            </div>
                          </li>
                          <li>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                              <label class="form-check-label" for="defaultCheck1">View</label>
                            </div>
                          </li>
                          <li>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                              <label class="form-check-label" for="defaultCheck1">Test</label>
                            </div>
                          </li>
                      </ul>
                      <i></i>
                    </div>
                  </a>
                </div>
              </td>
              <td>
                <div *ngIf="!isEditing"> QA </div>
                <div class="form-group" *ngIf="isEditing">
                  <input type="text" class="form-control" placeholder="Application">
                </div>
              </td>
              <td>
                <div class="status open" *ngIf="!isEditing">Enabled</div>
                <div class="form-group" *ngIf="isEditing">
                  <select name="Status" id="ticketStatus" class="form-control">
                    <option default>Enabled</option>
                    <option value="open">Disabled</option>
                    <option value="closed">On-hold</option>
                  </select>
                </div>
              </td>
              <td>Purna chandra reddy Chamala</td>
              <td>Dec 16, 2020</td>
              <td>
                  <i class="fa fa-pencil" *ngIf="!isEditing" aria-hidden="true" (click)="isEditing = true" ngbTooltip="Edit" container="body"></i>
                  <i class="fa fa-trash delete" *ngIf="!isEditing" (click)="showActionPopUP = true"
                  aria-hidden="true"></i>
                  <i class="fa fa-ban" *ngIf="isEditing"  aria-hidden="true" (click)="isEditing = false" ngbTooltip="Cancel" container="body"></i>
                  <i class="fa fa-floppy-o" *ngIf="isEditing" aria-hidden="true" (click)="isEditing = false" ngbTooltip="Save" container="body"></i>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="overlay" *ngIf="showCreatePage"></div>

<div class="panel-wrap shadow" *ngIf="showCreatePage"[class.wrap]="showCreatePage">
  <div class="panel">
    <div class="create-container">
      <div class="row">
        <div class="col">
            <h2 class="page-heading">Create New Role</h2>
        </div>
      </div>
      <div class="form">
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="ticketName">Name</label>
              <input type="text" id="ticketName" placeholder="Permission" class="form-control">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="createNewDesc" class="d-block">Description</label>
              <textarea name="" id="createNewDesc" cols="50" rows="5">Please enter some Description</textarea>
            </div>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col">
              <div class="form-group mb-0">
                  <label for="" class="d-block">Associated Permissions</label>
              </div>
              <div class="flex-space-betweem">
                <div class="tags">
                  <ul>
                    <li>View <i class="fa fa-times" aria-hidden="true"></i></li>
                    <li>Edit <i class="fa fa-times" aria-hidden="true"></i></li>
                  </ul>
                </div>
                <a class="ml-3" ngbTooltip="Edit" container="body" (click)="showDDL1 = !showDDL1">Edit
                    <i class="fa fa-pencil" aria-hidden="true"></i>
                  <div class="dropdownlist" [class.dl-show]="showDDL1">
                    <ul>
                      <li>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">Edit</label>
                          </div>
                        </li>
                        <li>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">View</label>
                          </div>
                        </li>
                        <li>
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">Test</label>
                          </div>
                        </li>
                    </ul>
                    <i></i>
                  </div>
                </a>
              </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="createNewApp">Environment</label>
              <input type="text" id="createNewApp" placeholder="Application" class="form-control">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="form-group">
              <label for="createNewStatus">Status</label>
              <select name="" id="createNewStatus" class="form-control">
                <option value="" >Select Status</option>
                <option value="enabled">Enabled</option>
                <option value="disabled">Disabled</option>
                <option value="onhold">On-hold</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="btn-container">
        <div class="row">
          <div class="col">
            <button class="btn btn-secondary" (click)="showCreatePage = false">Cancel</button>
          </div>
          <div class="col text-right">
            <button class="btn btn-primary" (click)="showCreatePage = false">Create</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="popup-container modal-md" *ngIf="showActionPopUP">
  <div class="popup-header">
    <a class="close" (click)="showActionPopUP = false"><i class="fa fa-times" aria-hidden="true"></i></a>
  </div>
  <div class="popup-body">
    <div class="warning-content">
      <div class="row">
        <div class="col">
          <h3>{{'Delete'}}</h3>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <p>{{'Do you really want to delete Permission ?'}}</p>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <button class="btn btn-secondary" (click)="showActionPopUP = false">Cancel</button>
          <button class="btn btn-primary" (click)="showActionPopUP = false">Ok</button>
        </div>
      </div>
    </div>
  </div>
</div>
